import{m as r,g as s,w as i,a as t}from"./app-kDzdjMZU.js";r.data("leaveForm",()=>({leave:{start_date:"",end_date:"",reason:""},leaveData:{},submitting:!1,successMessage:"",errorMessage:"",async submitLeave(){this.submitting=!0,this.successMessage="",this.errorMessage="";const a=s();try{const e=await t.post("/api/leaves",this.leave,{headers:{Authorization:`Bearer ${a}`}});this.successMessage=e.data.message,setTimeout(()=>{this.successMessage=""},5e3),await this.getLeaveData(),this.leave={start_date:"",end_date:"",reason:""}}catch(e){console.error(e),this.errorMessage="gagal menambahkan cuti"}finally{this.submitting=!1}},async getLeaveData(){const a=s();i(async()=>{try{const e=await t.get("/api/me/leaves",{headers:{Authorization:`Bearer ${a}`}});this.leaveData=e.data.data}catch{console.error("Gagal mendapat data cuti")}})},init(){this.getLeaveData()}}));
