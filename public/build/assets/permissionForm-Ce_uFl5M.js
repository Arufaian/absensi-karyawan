import{m as t,w as i,a,g as r}from"./app-kDzdjMZU.js";t.data("permissionForm",()=>({inputPermission:{date:"",reason:""},permissionData:{},submitting:!1,successMessage:"",errorMessage:"",async submitPermission(){this.submitting=!0,this.successMessage="",this.errorMessage="";const e=r();try{const s=await a.post("/api/permissions",this.inputPermission,{headers:{Authorization:`Bearer ${e}`}});this.successMessage=s.data.message,setTimeout(()=>{this.successMessage=""},5e3),this.getPermission(),this.inputPermission={date:"",reason:""}}catch{this.errorMessage="gagal menambahkan cuti"}finally{this.submitting=!1}},async getPermission(){const e=localStorage.getItem("token");i(async()=>{try{const s=await a.get("api/me/permission",{headers:{Authorization:`Bearer ${e}`}});this.permissionData=s.data.data}catch(s){console.error("Gagal mendapatkan data izin: "+s)}})},init(){this.getPermission()}}));
